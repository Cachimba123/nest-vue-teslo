import{_ as u,c as n,o as a,a as t,d,f as i,j as c,k as g,l as w,m,p as f}from"./index-KNcIeXgb.js";import{g as h,u as b,a as _}from"./getActionImg-DKXpdEaN.js";const y={},v={width:"20",height:"20",fill:"#000000",version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 490.939 490.939","xml:space":"preserve",transform:"rotate(180)"};function x(o,r){return a(),n("svg",v,r[0]||(r[0]=[t("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"},null,-1),t("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),t("g",{id:"SVGRepo_iconCarrier"},[t("g",null,[t("g",null,[t("path",{d:"M41.552,490.939c-2.665,0-5.297-1.064-7.237-3.095c-3.185-3.337-3.675-8.419-1.186-12.303L181.221,244.52L33.149,15.43 c-2.508-3.88-2.031-8.973,1.152-12.32c3.183-3.347,8.245-4.081,12.246-1.768l407.844,235.47c3.094,1.786,5,5.088,5,8.66 s-1.906,6.874-5,8.66L46.548,489.6C44.986,490.5,43.263,490.939,41.552,490.939z M72.451,39.39l129.061,199.679 c2.128,3.293,2.136,7.525,0.02,10.825L72.156,451.721l357.236-206.25L72.451,39.39z"})])])],-1)]))}const k=u(y,[["render",x]]),C={},L={width:"20",height:"20",fill:"#000000",version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 490.939 490.939","xml:space":"preserve"};function $(o,r){return a(),n("svg",L,r[0]||(r[0]=[t("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"},null,-1),t("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),t("g",{id:"SVGRepo_iconCarrier"},[t("g",null,[t("g",null,[t("path",{d:"M41.552,490.939c-2.665,0-5.297-1.064-7.237-3.095c-3.185-3.337-3.675-8.419-1.186-12.303L181.221,244.52L33.149,15.43 c-2.508-3.88-2.031-8.973,1.152-12.32c3.183-3.347,8.245-4.081,12.246-1.768l407.844,235.47c3.094,1.786,5,5.088,5,8.66 s-1.906,6.874-5,8.66L46.548,489.6C44.986,490.5,43.263,490.939,41.552,490.939z M72.451,39.39l129.061,199.679 c2.128,3.293,2.136,7.525,0.02,10.825L72.156,451.721l357.236-206.25L72.451,39.39z"})])])],-1)]))}const q=u(C,[["render",$]]),R={class:"flex justify-center py-10 bg-gray-100 space-x-3"},V=["disabled"],S=["disabled"],M=d({__name:"buttonPagination",props:{page:{},hasMoreData:{type:Boolean}},setup(o){return(r,e)=>(a(),n("div",R,[t("button",{disabled:r.page===1,onClick:e[0]||(e[0]=s=>r.$router.push({query:{page:r.page-1}})),class:"flex items-center space-x-1.5 rounded-lg px-4 py-1.5 text-white bg-blue-500 disabled:bg-gray-300 hover:bg-blue-800 transition-all"},[i(k),e[2]||(e[2]=t("span",null,"Anterior",-1))],8,V),t("button",{disabled:r.hasMoreData,onClick:e[1]||(e[1]=s=>r.$router.push({query:{page:r.page+1}})),class:"flex items-center space-x-1.5 rounded-lg px-4 py-1.5 text-white bg-blue-500 disabled:bg-gray-300 hover:bg-blue-800 transition-all"},[e[3]||(e[3]=t("span",null,"Siguiente",-1)),i(q)],8,S)]))}}),l=async(o=1,r=10)=>{try{const{data:e}=await c.get(`/products?offset=${(o<=1?0:o-1)*r}&limit=${r}`);return e.map(s=>({...s,images:s.images.map(h)}))}catch(e){throw console.log(e),new Error("Ha ocurrido un error a la hora de buscar los productos")}},A=()=>{const o=g(),r=b(),e=w(0),{data:s=[]}=_({queryKey:["products",{page:e}],queryFn:()=>l(e.value)});return m(()=>o.query.page,p=>{e.value=Number(p||1),e.value<=0&&(e.value=1),window.scrollTo({top:0,behavior:"smooth"})},{immediate:!0}),f(()=>{r.prefetchQuery({queryKey:["products",{page:e.value+1}],queryFn:()=>l(e.value+1)})}),{page:e,dataProducts:s}};export{M as _,A as u};
